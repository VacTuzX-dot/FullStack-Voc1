import{S as e}from"./sweetalert2.esm.all.BbQndx0i.js";document.getElementById("signupForm")?.addEventListener("submit",async o=>{o.preventDefault();const n=document.getElementById("password")?.value,r=document.getElementById("confirmPassword")?.value;if(n!==r){e.fire({title:"รหัสผ่านไม่ตรงกัน",text:"กรุณากรอกรหัสผ่านให้ตรงกัน",icon:"error",timer:2e3,showConfirmButton:!1});return}const a={firstname:document.getElementById("firstname")?.value,lastname:document.getElementById("lastname")?.value,email:document.getElementById("email")?.value,username:document.getElementById("username")?.value,password:n};try{const t=await fetch("https://backend-nextjs-virid.vercel.app/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),i=await t.json();t.ok?(await e.fire({title:"สมัครสมาชิกสำเร็จ!",text:"กรุณาเข้าสู่ระบบ",icon:"success",timer:2e3,showConfirmButton:!1}),window.location.href="/signin"):e.fire({title:"เกิดข้อผิดพลาด",text:i.message||"ไม่สามารถสมัครสมาชิกได้",icon:"error",timer:2e3,showConfirmButton:!1})}catch{e.fire({title:"เกิดข้อผิดพลาด",text:"ไม่สามารถเชื่อมต่อเซิร์ฟเวอร์ได้",icon:"error",timer:2e3,showConfirmButton:!1})}});
